@model PastebookWebApplication.Models.UserModel

@using (Html.BeginForm("Index", "Pastebook", FormMethod.Post))
{
    <div class="form-horizontal">
        <h4>LogInModel</h4>
        <hr />

        <div class="form-group">
            @Html.LabelFor(model => model.EmailAddress, htmlAttributes: new { @class = "control-label col-md-2" })
            <div class="col-md-10">
                @Html.EditorFor(model => model.EmailAddress, new { htmlAttributes = new { @class = "form-control", id = "txtLogInEmailAddress" } })
                @Html.ValidationMessageFor(model => model.EmailAddress, "", new { @class = "text-danger" })
            </div>
        </div>

        <div class="form-group">
            @Html.LabelFor(model => model.PasswordHash, htmlAttributes: new { @class = "control-label col-md-2" })
            <div class="col-md-10">
                @Html.EditorFor(model => model.PasswordHash, new { htmlAttributes = new { @class = "form-control", id = "txtLogInPassword" } })
                @Html.ValidationMessageFor(model => model.PasswordHash, "", new { @class = "text-danger" })
            </div>
        </div>

        <div class="form-group">
            <div class="col-md-offset-2 col-md-10">
                <input type="submit" value="Login" class="btn btn-default" id="btnLogIn" />
                @*@Html.ActionLink("LogIn", "LogIn", "LogIn", new { @class = "btn btn-default", id = "btnLogIn", type = "submit" })*@
                @Html.ActionLink("Register", "Register", "Pastebook", new { @class = "btn btn-default" })
            </div>
        </div>
    </div>
}

@section Scripts {
    @Scripts.Render("~/bundles/jquery")
    @*<script>
            var LogInUserUrl = '@Url.Action("LogInUser", "LogIn")'
        </script>

        <script>
            $(document).ready(function () {

                $("#btnLogIn").click(function () {
                    var data = {
                        email: $('#txtLogInEmailAddress').val(),
                        password: $('#txtLogInPassword').val()
                    }

                    $.ajax({
                        url: LogInUserUrl,
                        data: data,
                        type: 'POST',
                        success: function (data) {
                            alert('success');

                            //go to home page
                            //if (data.result) {
                            //    initializeClientPageTimeOut();
                            //    location.reload();
                            //}
                        },

                        error: function () {
                            alert('Something went wrong.')
                        }
                    })
                });
            });
        </script>*@
}
